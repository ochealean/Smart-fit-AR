<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order History - Customer</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="icon" href="../../images/smartfitImages/smartfitAR-logo.png" type="image/x-icon">
    <link rel="stylesheet" href="../css/history.css">
</head>

<body>
    <!-- Hidden Templates -->
    <template id="loading-template">
        <div class="empty-history">
            <i class="fas fa-spinner fa-spin"></i>
            <h3>Loading Orders...</h3>
            <p>Please wait while we load your order history</p>
        </div>
    </template>

    <template id="no-orders-template">
        <div class="empty-history">
            <i class="fas fa-box-open"></i>
            <h3>No Orders Yet</h3>
            <p>You haven't placed any orders yet. Start shopping to see your order history here.</p>
            <a href="/customer/html/browse.html" class="btn-shop">Shop Now</a>
        </div>
    </template>

    <template id="no-filtered-orders-template">
        <div class="empty-history">
            <i class="fas fa-filter"></i>
            <h3>No Orders Found</h3>
            <p data-message>No orders match your current filters. Try adjusting your filters.</p>
            <button class="btn-clear-filters" onclick="clearAllFilters()">Clear All Filters</button>
        </div>
    </template>

    <template id="no-search-results-template">
        <div class="empty-history">
            <i class="fas fa-search"></i>
            <h3>No Orders Found</h3>
            <p data-message>No orders found matching your search. Try adjusting your search or filters.</p>
            <button class="btn-clear-filters" onclick="clearAllFilters()">Clear All Filters</button>
        </div>
    </template>

    <template id="error-template">
        <div class="empty-history">
            <i class="fas fa-exclamation-triangle"></i>
            <h3>Error Loading Orders</h3>
            <p>Please try refreshing the page.</p>
        </div>
    </template>

    <template id="order-card-template">
        <div class="order-card" data-order-id="{{orderId}}">
            <div class="order-header">
                <div>
                    <span class="order-id">Order #{{orderId}}</span>
                    <span class="order-date"> - {{orderDate}}</span>
                </div>
                <span class="order-status {{statusClass}}">{{statusText}}</span>
            </div>
            <div class="order-body">
                <div class="order-items">
                    {{itemsHTML}}
                </div>
                {{rejectionHTML}}
            </div>
            <div class="order-footer">
                <div class="order-total">Total: ₱{{totalAmount}}</div>
                <div class="order-actions">
                    {{actionButtons}}
                </div>
            </div>
        </div>
    </template>

    <template id="order-item-template">
        <div class="order-item">
            <img src="{{imageUrl}}" alt="Product" class="item-image">
            <div class="item-details">
                <div class="item-name">{{itemName}}</div>
                <div class="item-variant">Color: {{color}}, Size: {{size}}</div>
                <div class="item-price">₱{{price}}</div>
            </div>
            <div class="item-quantity">Qty: {{quantity}}</div>
        </div>
    </template>

    <template id="rejection-info-template">
        <div class="rejection-info">
            <div class="rejection-title">
                <i class="{{icon}}"></i>
                <span>{{titlePrefix}}: <span class="rejection-shop">{{shop}}</span></span>
            </div>
            <div class="rejection-reason">
                <strong>Reason:</strong> {{reason}}
            </div>
        </div>
    </template>

    <!-- Main Content -->
    <div class="dashboard">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-store"></i>
                </div>
                <span>SHOE PORTAL</span>
            </div>
            <div class="nav-items">
                <a href="/customer/html/customer_dashboard.html" class="nav-item">
                    <i class="fas fa-home"></i> Dashboard
                </a>
                <a href="/customer/html/browse.html" class="nav-item">
                    <i class="fas fa-shopping-bag"></i> Browse Shoes
                </a>
                <a href="/customer/html/shoevalidator.html" class="nav-item">
                    <i class="fas fa-check-circle"></i> Shoe Validation
                </a>
                <a href="/customer/html/pickshoe.html" class="nav-item">
                    <i class="fas fa-shoe-prints"></i> Customize Shoes
                </a>
                <a href="/customer/html/customization_pendingOrders.html" class="nav-item">
                    <i class="fas fa-tools"></i> My Custom Orders
                </a>
                <a href="/customer/html/orders.html" class="nav-item">
                    <i class="fas fa-receipt"></i> My Orders
                </a>
                <a href="/customer/html/add_to_cart.html" class="nav-item">
                    <i class="fas fa-shopping-cart"></i> My Cart
                </a>
                <a href="/customer/html/history.html" class="nav-item active">
                    <i class="fas fa-history"></i> Order History
                </a>
                <a href="/customer/html/issue_response.html" class="nav-item">
                    <i class="fas fa-reply"></i> Issue Response
                </a>
                <a href="/customer/html/wishlist.html" class="nav-item">
                    <i class="fas fa-heart"></i> Wishlist
                </a>
                <a href="/chatbot/html/chatbot.html" class="nav-item">
                    <i class="fas fa-comment"></i> Chatbot
                </a>
                <a href="/customer/html/customerprofile.html" class="nav-item">
                    <i class="fas fa-cog"></i> Settings
                </a>
                <a id="logout_btn" class="nav-item">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </a>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="header">
                 <div class="mobile-menu-toggle">
                    <i class="fas fa-bars"></i>
                </div>
                <h1><i class="fas fa-history"></i> Order History</h1>
                <div class="user-profile">
                    <img id="imageProfile" src="#" alt="Profile" class="user-avatar">
                    <span id="userName_display2">Alex Johnson</span>
                </div>
            </div>

            <!-- Filter Controls -->
            <div class="history-filters">
                <div class="filter-group">
                    <span class="filter-label">Filter by:</span>
                    <select id="statusFilter" class="form-select">
                        <option value="all">All Orders</option>
                        <option value="rejected">Rejected</option>
                        <option value="cancelled">Cancelled</option>
                    </select>
                    <select class="filter-select" id="timeFilter">
                        <option value="all">All Time</option>
                        <option value="last30">Last 30 Days</option>
                        <option value="last90">Last 90 Days</option>
                    </select>
                </div>
                <input type="text" class="search-orders" placeholder="Search order ID or product...">
            </div>

            <!-- Purchase History Content -->
            <div class="purchase-history">
                
            </div>
        </div>
    </div>

    <!-- Sidebar Overlay -->
    <div class="sidebar-overlay"></div>

    <script src="/customer/js/history.js" type="module"></script>
</body>

</html>